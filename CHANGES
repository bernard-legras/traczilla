!$Id: 
!
!=======================================================================
!@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ TRACZILLA @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
!=====|==1=========2=========3=========4=========5=========6=========7==
!
VERSION HISTORY (changes by A.St. if not otherwise indicated)

8 August 2001:

bug in readpartpositions.f:
the orography was not read in, although it is output since version 3.2.
This disabled initialization from results of previous model run.

7 August 2001:

bug in gridout.f:
Fields wetgrid and drygrid were not initialized. On some platforms, this
caused spurious deposition values to be reported for non-depositing tracers.

21 April 2001 A.St.

- convmix.f: correct determination of nested coordinates

17 April 2001 PS

put in updated convection routines as tested in the Staccato context

14 April 2001 ASt

grid-scale convection scheme removed

14 April 2001 PS

- fluxout.f: all output
  float(loutstep) -> float(abs(loutstep))
  
- timemanager.f 
   radioactive decay in drydep
   float(ldeltat) -> float(abs(ldeltat))
   -1.*float(lsynctime) -> -float(abs(lsynctime))
   drydeposit(k)=xmass1(j,k)*prob(k)*decfact*float(ldirect): remove ldirect!
     no reason for drydeposit to be negative
     
- gridout.f concentration output: add "abs" =>
   factor(ix,jy,kz)=float(abs(loutaver))/outnum

10 April 2001 PS

- advance.f: 
  drydepo probability: remove wrong formulation for backward runs, 
  integrate it with forward formulation, and add clarification

- timemanager.f:
  radioactive decay: replace float(loutstep) with abs(loutstep)
  
- wetdepo.f: comment lines corrected: outputted->output, remove ','   

30 March 2001 PS

- redist.f: normalise ctlv with its sum - it may affected by interpolation
  effects and too high z_new values indicated such a mistake

29 March 2001 PS
-  use time1,time2 instead of timem1,etc. and endtime in calcmatrix.f
   this should speed up calculations a little bit but not affect results
   
28 March 2001 PS
- insert initialisation of dlev and levnew in redist.f
- get rid of spurious negative values of ctralev in calcmatrix.f
- change one comment line in calcmatrix.f
- wetdepo.f: replace float() by abs() in exponential terms to 
  get correct behaviour in backward mode; remove multiplication
  of wetdeposit with ldirect because it should be positive anyway
  [to be tested!]
  also other output has to be checked; grid output has wrong sign, too!  
  
  
20 March 2001 ASt
- Variable kind removed, input files modified accordingly

--Version 4-----

???

17 October 2000:
readwind and readwind_nests: set negative values of precipitation and
solar radiation to zero in order to avoid division by zero error.

18 March 2000:
Bug in gridcheck:
upper and right boundary of nested domains were incorrect;
led to inaccurate simulations with nested domains.

30 August 1999:
Take care that start of simulation is at least 1 second AFTER first
wind field is available; otherwise, FLEXPART will finish normally,
but without having calculated anything. This is a bug that should
be removed in a future version

4 March 1999:
Bug in initialize:
initialization of wp was incorrect: cases of turbswitch and
.not.turbswitch were reversed, now corrected

26 January 1999
includeinterpol:
ix,jy, etc. were declared as real variables -> now integer



8 July 1998 Of minor importance:
Bug in readwind.f removed. qvh was assigned the second level
of qv, which was not defined at that time.
Now: qvh(i,j,1)=qvh(i,j,2)


INSTALLATION NOTES
******************

1)
Compile and link all *.f files (e.g., using make).

2)
On HP worstations, calls to pbopen and pbclose must be changed to
pbopen_ and pbclose_ (i.e., underscores must be added to the calls)     

3)
If the program crashes with a segmentation fault or similar upon first
execution, try to make grid dimensions smaller, or reduce the maximum number
of particles or both.     

4)
The GRIB decoding routines are not distributed with this code. You have to
obtain your own version.

END INSTALLATION NOTES


!
!=====|==1=========2=========3=========4=========5=========6=========7==
!
!$Log: 
